{{template "head.htm" .}}
    <main id="app" class="container">
      <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
          <li class="breadcrumb-item active" aria-current="page"><i class="bi bi-house-door-fill"></i> Home</li>
        </ol>
      </nav>
      <div class="accordion" id="accordionOrg">
        {{range $index, $element := .Orgs}}
          <div class="accordion-item">
            <h2 class="accordion-header" id="heading-{{$index}}">
              <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-{{$index}}" aria-expanded="true" aria-controls="collapse-{{$index}}">
                <i class="bi bi-building"></i> {{.Name}}
              </button>
            </h2>
            <div id="collapse-{{$index}}" class="accordion-collapse collapse show" aria-labelledby="heading-{{$index}}" data-bs-parent="#accordionOrg">
              <div class="accordion-body">
                {{range .Repos}}
                  <h5 class="d-inline-block me-2">
                    <span class="badge text-bg-secondary" role="button" @click="openRepo" :data-org="'{{$element.Name}}'" :data-repo="'{{.Name}}'" :data-branch="'{{.DefaultBranch}}'"><i class="bi bi-git"></i> {{.Name}}</span>
                  </h5>
                {{end}}
              </div>
            </div>
          </div>
        {{end}}
      </div>
    </main>

    <script>
      'use strict'
      const { createApp } = Vue
      createApp({
        data() {
          return {}
        },
        computed: {},
        methods: {
          openRepo(e) {
            let dataset = e.currentTarget.dataset
            let org = dataset.org
            let repo = dataset.repo
            let branch = dataset.branch
            window.location.href = `/${org}/${repo}/tree/${branch}`
          }
        },
        created() {},
        delimiters: ['{[{', '}]}'],
      }).mount('#app')
    </script>
{{template "foot.htm" .}}